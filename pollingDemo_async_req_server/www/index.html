<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>
    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <script src="js/angular-resource.js" type="text/javascript"></script>
    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>
    <!-- your app's js -->
    <script src="js/app.js"></script>
</head>

<body ng-app="pollingApp">
    <ion-pane>
        <ion-header-bar class="bar-stable">
            <h1 class="title">Orders</h1>
        </ion-header-bar>
        <ion-content class="has-header" ng-controller="MainController">
            <div align="center" class="item">
                <h2 class="title">Customer Search (test to see how angular handles divisions asynchronously)</h2>
            </div>
            <div id="customer_search" class="list" ng-controller="CustomerController">
                <label class="item item-input">
                    <input type="text" data-ng-model="filter.name" placeholder="Write customer's name here" />
                </label>
                <ul class="list">
                    <li class="item" data-ng-repeat="cust in customers | filter:filter.name | orderBy:'city'">
                        {{cust.name}} - {{cust.city}}
                    </li>
                </ul>
            </div>
            <!-- customer_search end -->
            <div class="card" ng-show="orders" ng-repeat="order in orders">
                <div class="item item-divider">
                    <h2>Order id is: {{order.id}}</h2>
                </div>
                <div class="item item-text-wrap">
                    <h3>Items:</h3>
                    <div ng-repeat="item in order.items">
                        <p>
                            {{item.name}} x {{item.amount}}
                        </p>
                    </div>
                    <p style="font-weight:bold">Total price: {{order.total_price}} â‚¬</p>
                </div>
            </div>
        </ion-content>
    </ion-pane>
</body>

</html>
